%description:
Tests for SimTime::ttoa.

%activity:
char *endp;
char buf[64];

int64_t t = 0;
EV << "zero0:  " << SimTime::ttoa(buf, t, 0, endp) << "\n";
EV << "zero10: " << SimTime::ttoa(buf, t, -10, endp) << "\n";
EV << "zero18: " << SimTime::ttoa(buf, t, -18, endp) << "\n";

t = INT64_MIN;
EV << "-max0:  " << SimTime::ttoa(buf, t, 0, endp) << "\n";
EV << "-max10: " << SimTime::ttoa(buf, t, -10, endp) << "\n";
EV << "-max18: " << SimTime::ttoa(buf, t, -18, endp) << "\n";

t = INT64_MAX;
EV << "max0:  " << SimTime::ttoa(buf, t, 0, endp) << "\n";
EV << "max10: " << SimTime::ttoa(buf, t, -10, endp) << "\n";
EV << "max18: " << SimTime::ttoa(buf, t, -18, endp) << "\n";

t = 12345;
for (int exp=0; exp<=18; exp++)
{
    EV << "exp=" << -exp << ":\n";
    EV << " " << SimTime::ttoa(buf, -t, -exp, endp) << "\n";
    EV << " " << SimTime::ttoa(buf, t, -exp, endp) << "\n";
    EV << " " << SimTime::ttoa(buf, t*10, -exp, endp) << "\n";
    EV << " " << SimTime::ttoa(buf, t*100, -exp, endp) << "\n";
    EV << " " << SimTime::ttoa(buf, t*1000, -exp, endp) << "\n";
}
EV << ".\n";

%contains: stdout
zero0:  0
zero10: 0
zero18: 0
-max0:  -9223372036854775808
-max10: -922337203.6854775808
-max18: -9.223372036854775808
max0:  9223372036854775807
max10: 922337203.6854775807
max18: 9.223372036854775807
exp=0:
 -12345
 12345
 123450
 1234500
 12345000
exp=-1:
 -1234.5
 1234.5
 12345
 123450
 1234500
exp=-2:
 -123.45
 123.45
 1234.5
 12345
 123450
exp=-3:
 -12.345
 12.345
 123.45
 1234.5
 12345
exp=-4:
 -1.2345
 1.2345
 12.345
 123.45
 1234.5
exp=-5:
 -0.12345
 0.12345
 1.2345
 12.345
 123.45
exp=-6:
 -0.012345
 0.012345
 0.12345
 1.2345
 12.345
exp=-7:
 -0.0012345
 0.0012345
 0.012345
 0.12345
 1.2345
exp=-8:
 -0.00012345
 0.00012345
 0.0012345
 0.012345
 0.12345
exp=-9:
 -0.000012345
 0.000012345
 0.00012345
 0.0012345
 0.012345
exp=-10:
 -0.0000012345
 0.0000012345
 0.000012345
 0.00012345
 0.0012345
exp=-11:
 -0.00000012345
 0.00000012345
 0.0000012345
 0.000012345
 0.00012345
exp=-12:
 -0.000000012345
 0.000000012345
 0.00000012345
 0.0000012345
 0.000012345
exp=-13:
 -0.0000000012345
 0.0000000012345
 0.000000012345
 0.00000012345
 0.0000012345
exp=-14:
 -0.00000000012345
 0.00000000012345
 0.0000000012345
 0.000000012345
 0.00000012345
exp=-15:
 -0.000000000012345
 0.000000000012345
 0.00000000012345
 0.0000000012345
 0.000000012345
exp=-16:
 -0.0000000000012345
 0.0000000000012345
 0.000000000012345
 0.00000000012345
 0.0000000012345
exp=-17:
 -0.00000000000012345
 0.00000000000012345
 0.0000000000012345
 0.000000000012345
 0.00000000012345
exp=-18:
 -0.000000000000012345
 0.000000000000012345
 0.00000000000012345
 0.0000000000012345
 0.000000000012345
.

