<html><head><link rel="STYLESHEET" href="../book.css"  type="text/css"/><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Using the NED Editor</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="OMNeT&#8288;+&#8288;+ User Guide"><link rel="up" href="ch02.html" title="Chapter 2. Editing NED Files"><link rel="prev" href="ch02s03.html" title="Creating New NED Files"><link rel="next" href="ch02s05.html" title="Associated Views"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Using the NED Editor</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s03.html">Prev</a> </td><th width="60%" align="center">Chapter 2. Editing NED Files</th><td width="20%" align="right"> <a accesskey="n" href="ch02s05.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm157"></a>Using the NED Editor</h2></div></div></div><p> If you want to open an NED file, just double-click its icon in the <span class="emphasis"><em>Project Explorer</em></span>. If the NED file
      can be parsed without an error, the graphical representation of the file will be opened; otherwise,
      the text view will be opened and the text will be annotated
      with error markers.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3>
      Only files located in NED Source Folders will be opened with the graphical editor. If a NED file is
      not in the NED Source Folders, it will be opened in a standard text editor.
    </div><p>
      You can switch between graphical and source editing mode by clicking the tabs at
      the bottom of the editor, or by using the
      <span class="keycap"><strong>Alt+PGUP/PGDN</strong></span>
      key combinations. The editor will try to keep the selection during the switch. Selecting an element in a
      graphical view and then switching to text view will move the cursor to the related element in the NED
      file. When switching back to graphical view, the graphical editor will try to select the element that
      corresponds to the cursor location in the NED source. This allows you to keep the context, even when
      switching back and forth.
    </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm164"></a>Editing in Graphical Mode</h3></div></div></div><p> The graphical editor displays the visible elements of the loaded NED file. Simple modules,
        compound modules and networks are represented by figures or icons. Each NED file can contain more than
        one module or network. If it does, the corresponding figures will appear in the same order as they
        are found in the NED file.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3>
        Place only a single module or network into an NED file, and name the file
        according to the module name.
      </div><p> Simple modules and submodules are represented as icons while compound modules and networks are
        displayed as rectangles where other submodules can be dropped. Connections between submodules are represented
        either by lines or arrows depending on whether the connection was uni- or bi-directional. Submodules can
        be dragged or resized using the mouse and connected by using the Connection Tool in the palette.</p><div class="figure"><a name="pictures/NED-GraphEditor.png"></a><p class="title"><b>Figure 2.3. Graphical NED Editor</b></p><div class="figure-contents"><div class="screenshot"><div class="mediaobject" align="center"><img src="pictures/NED-GraphEditor.png" align="middle" alt="Graphical NED Editor"></div></div></div></div><br class="figure-break"><p> The palette is normally to the right of the editor area. The upper part of the palette contains
        the basic tools: selector, connection selector, and the connection creator tool. To use a palette
        item, simply click on it. Then, click in the module where you want to place/activate it. The mouse pointer will give
        you feedback as to whether the requested operation is allowed. The middle part of the toolbox contains the
        basic elements that can be placed at the top level in a NED file (simple module, compound module,
        interface, channel, etc.) and a "generic" submodule. Click on any of these and then click into the
        editor area to create an instance. The bottom part of the palette contains all module types that can
        be instantiated as a submodule. They are shortcuts for creating a generic submodule and then modifying
        its type. They will display the default icon (if any) and a short description if you hover the mouse
        over them. You may configure the palette by right-clicking on a button and selecting <span class="emphasis"><em>Settings...</em></span>
        or filter its content by selecting <span class="emphasis"><em>Select Packages...</em></span></p><p> Right-clicking any element in the edited NED file will bring up a context menu that allows several
        actions like changing the icon, pinning/unpinning a submodule, re-layouting a compound module, or
        deleting/renaming the element. There are also items to activate various views. For example, the
        <span class="emphasis"><em>Properties View</em></span> allows you to edit properties of the element.</p><p>
        Hovering over an element will display its documentation (the comment in the NED source above the
        definition) as a tooltip. Pressing
        <span class="keycap"><strong>F2</strong></span>
        will make the tooltip window persistent, so it can be resized and scrolled for more convenient
        reading.
      </p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm184"></a>Creating Modules</h4></div></div></div><p> To create a module or a submodule, click on the appropriate palette item and then click where
          you want to place the new element. Submodules can be placed only inside compound modules or networks.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm187"></a>Creating Types and Inner Types</h4></div></div></div><p>To create a type, or an inner type inside a compound module, click on the appropriate palette item
              in the "Types" drawer, and then click where you want to place the new element. If you click on
              the background, a new top-level type will be created. Clicking on an existing compound module
              or network creates an inner type inside that module.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm190"></a>Creating and Changing Connections</h4></div></div></div><p> Select the <span class="emphasis"><em>connection tool</em></span> (if there are channels defined in the project, you can use the
          dropdown to select the connection channel type). First, click the source module and
          then, the destination. A popup menu will appear, asking which gates should be connected on the two
          selected modules. The tool will offer only valid connections (e.g. it will not offer to
          connect two output gates).</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm194"></a>Reconnecting Modules</h4></div></div></div><p>Clicking and dragging a connection end point to another module will reconnect it (optionally,
          asking which gate should be connected). If you want to change only the gate, drag the
          connection end point and drop it over the original module. A popup will appear asking for the source
          or destination gate.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm197"></a>Selecting Elements</h4></div></div></div><p>
          Selecting an element is done by clicking on it or by dragging a rectangle over the target modules.
          A compound module can be selected by clicking on its border or title. If you want to select only
          connections within a selection rectangle, use the <span class="emphasis"><em>connection selector</em></span> tool in the dropdown menu
          of the <span class="emphasis"><em>connection tool</em></span>. The <span class="keycap"><strong>Ctrl</strong></span> and <span class="keycap"><strong>Shift</strong></span>
          keys can be used to add/remove to/from the current selection. Note that the keyboard (arrow keys) can
          also be used to navigate between submodules. You can also select using a selection rectangle by
          dragging the mouse around the modules.
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm204"></a>Undo, Redo, Deleting Elements</h4></div></div></div><p>
          Use <span class="keycap"><strong>Ctrl+Z</strong></span> and <span class="keycap"><strong>Ctrl+Y</strong></span> for undo and redo, respectively,
          and the <span class="keycap"><strong>DEL</strong></span> key for deletion. These functions are also available in the <span class="emphasis"><em>Edit</em></span> menu
          and in the context menu of the selected element.
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm211"></a>Moving and Resizing Elements</h4></div></div></div><p>
          You can move/resize the selected elements with the mouse. Holding down
          <span class="keycap"><strong>Shift</strong></span>
          during move will perform a constrained (horizontal, diagonal or vertical) move operation.
          <span class="keycap"><strong>Shift</strong></span>
          + resize will keep the aspect ratio of the element.
        </p><p> If you turn on <span class="emphasis"><em>Snap to Geometry</em></span> in the <span class="emphasis"><em>View</em></span> menu, helper lines will appear to help you
          align with other modules. Selecting more than one submodule activates the <span class="emphasis"><em>Alignment</em></span> menu (found
          both in the <span class="emphasis"><em>View</em></span> menu and in the context menu).</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm221"></a>Copying Elements</h4></div></div></div><p>
          Holding down <span class="keycap"><strong>Ctrl</strong></span>
          while dragging will clone the module(s). Copy/Paste can also be used both on single modules and with
          group selection.
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm225"></a>Zooming</h4></div></div></div><p>
          Zooming in and out is possible from the <span class="emphasis"><em>View</em></span> menu, or using
          <span class="keycap"><strong>Ctrl+-</strong></span>, <span class="keycap"><strong>Ctrl+=,</strong></span> or holding down <span class="keycap"><strong>Ctrl</strong></span>
          and using the mouse wheel.
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm232"></a>Pinning, Unpinning, Re-Layouting</h4></div></div></div><p> A submodule display string may or may not contain explicit coordinates for the submodule; if it
          does not, then the location of the submodule will be determined by the layouting algorithm. A
          submodule with explicit coordinates is pinned; one without is unpinned. The Pin action inserts the
          current coordinates into the display string and the Unpin action removes them. Moving a submodule
          also automatically pins it. The position of an unpinned module is undetermined and may change every
          time the layouting algorithm runs. For convenience, the layouter does not run when a submodule gets
          unpinned (so that the submodule does not jump away on unpinning), but this also means that unpinned
          submodules may appear at different locations next time the same NED file is opened.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm235"></a>Changing a Module Property</h4></div></div></div><p>To change a module property, right-click on it and select the <span class="emphasis"><em>Properties...</em></span> menu item
          from the context menu or select the module and modify that property in the <span class="emphasis"><em>Properties View</em></span>.
          Alternatively, you can press <span class="keycap"><strong>Ctrl+Enter</strong></span> when the module is selected.
          NED properties like name, type and vector size are available on <span class="emphasis"><em>General</em></span> tab.
          Visual properties like icon, size, color, border etc. can be set on the
          <span class="emphasis"><em>Appearance</em></span> tab. You may check how your module will look like in the preview panel
          at the bottom of the dialog.
          </p><div class="figure"><a name="pictures/NED-Properties.png"></a><p class="title"><b>Figure 2.4. Editing Visual Properties</b></p><div class="figure-contents"><div class="screenshot"><div class="mediaobject" align="center"><img src="pictures/NED-Properties.png" align="middle" alt="Editing Visual Properties"></div></div></div></div><p><br class="figure-break">
             </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
                 You can select several modules at the same time and open the <span class="emphasis"><em>Properties</em></span> dialog to set
                 their common properties at the same time.
             </div><p>
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm253"></a>Changing a Module Parameter</h4></div></div></div><p>To change a module parameter, right-click on it and select the <span class="emphasis"><em>Parameters...</em></span> menu item
          from the context menu. The dialog allows you to add or remove module parameters or assign
          value to them.
          </p><div class="figure"><a name="pictures/NED-Parameters.png"></a><p class="title"><b>Figure 2.5. Editing Module Parameters</b></p><div class="figure-contents"><div class="screenshot"><div class="mediaobject" align="center"><img src="pictures/NED-Parameters.png" align="middle" alt="Editing Module Parameters"></div></div></div></div><p><br class="figure-break">
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm265"></a>Renaming Modules</h4></div></div></div><p>To rename an existing module select its context menu and choose <span class="emphasis"><em>Rename</em></span> or click on an
            already selected module a second time. You can specify a new name for the module or even turn
            a submodule into a vector by adding [vectorsize] after its name.
            Alternatively the name of a module can be set in the <span class="emphasis"><em>Properties</em></span> dialog or can be edited by
                pressing <span class="keycap"><strong>F6</strong></span> when the module is selected.
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm271"></a>Exporting a Module as an Image</h4></div></div></div><p>A module can be exported using several image formats by selecting <span class="emphasis"><em>Export Image...</em></span> from the
            module's context menu.
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm275"></a>Navigation</h4></div></div></div><p> Double-clicking a submodule will open the corresponding module type in a NED editor. Selecting
          an element in the graphical editor and then switching to text mode will place the cursor near the
          previously selected element in the text editor.</p><p> Navigating inside a longer NED file is easier if you open the <span class="emphasis"><em>Outline View</em></span> to see the
          structure of the file. Selecting an element in the outline will select the same element in
          the graphical editor.</p><p> If you want to see the selected element in a different view, select the element and right-click
          on it. Choose <span class="emphasis"><em>Show In</em></span> from the context menu, and select the desired view.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm282"></a>Opening a NED Type</h4></div></div></div><p>
          If you know only the name of a module type or other NED element, you can use the <span class="emphasis"><em>Open NED
          Type</em></span> dialog by pressing
          <span class="keycap"><strong>Ctrl+Shift+N</strong></span>. Type the name, or search with wildcards. The requested type will be opened in an editor. This
          feature is not tied to the graphical editor: the Open NED Type dialog is available from anywhere in
          the IDE.
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm287"></a>Setting Properties</h4></div></div></div><p>
          Elements of the display string and other properties associated with the selected elements can be
          edited in the <span class="emphasis"><em>Properties View</em></span>. The Property View is grouped and hierarchically organized; however,
          you can switch off this behavior on the view toolbar. Most properties can be edited directly in the
          <span class="emphasis"><em>Properties View</em></span>, but some also have specific editors that can be activated by pressing the ellipsis button at the
          end of the field. Fields marked with a small light bulb support content assist. Use the
          <span class="keycap"><strong>Ctrl+SPACE</strong></span>
          key combination to get a list of possible values.
        </p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
        The following functions are available only in source editing mode:
        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
            Creating or modifying gates
          </li><li class="listitem">
            Creating grouped and conditional connections
          </li><li class="listitem">
            Adding or editing properties
          </li></ul></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm298"></a>Editing in Source Mode</h3></div></div></div><p> The NED source editor supports all functionality that one can expect from an Eclipse-based text
        editor, such as syntax highlighting, clipboard cut/copy/paste, unlimited
        undo/redo, folding, find/replace and incremental search.</p><p> The NED source is continually parsed as you type, and errors and warnings are displayed as
        markers on the editor rulers. At times when the NED text is syntactically correct, the editor has full
        knowledge of "what is what" in the text buffer.</p><div class="figure"><a name="pictures/NED-TextEditor.png"></a><p class="title"><b>Figure 2.6. NED Source Editor</b></p><div class="figure-contents"><div class="screenshot"><div class="mediaobject" align="center"><img src="pictures/NED-TextEditor.png" align="middle" alt="NED Source Editor"></div></div></div></div><br class="figure-break"><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm310"></a>Basic Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Undo (<span class="keycap"><strong>Ctrl+Z</strong></span>), Redo (<span class="keycap"><strong>Ctrl+Y</strong></span>)</p></li><li class="listitem"><p>Indent/unindent code blocks (<span class="keycap"><strong>TAB/Shift+TAB</strong></span>)</p></li><li class="listitem"><p>Correct indentation (NED syntax aware) (<span class="keycap"><strong>Ctrl+I</strong></span>)
            </p></li><li class="listitem"><p>Find (<span class="keycap"><strong>Ctrl+F</strong></span>), incremental search (<span class="keycap"><strong>Ctrl+J</strong></span>)</p></li><li class="listitem"><p>Move lines (<span class="keycap"><strong>Alt+UP/DOWN</strong></span>)</p></li></ul></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>The following functions can help you explore the IDE:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="keycap"><strong>Ctrl+Shift+L</strong></span> pops up a window that lists all keyboard bindings, and </p></li><li class="listitem"><p><span class="keycap"><strong>Ctrl+3</strong></span> brings up a filtered list of all available commands.</p></li></ul></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm339"></a>Converting to the New NED Syntax</h4></div></div></div><p> If you have an NED file with older syntax, you can still open it. A context menu item allows you
          to convert it to the new syntax. If the NED file is already using the new syntax, the <span class="emphasis"><em>Convert to
          4.x Format</em></span> menu item is disabled.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm343"></a>View Documentation</h4></div></div></div><p>
          Hovering the mouse over a NED type name will display the documentation in a "tooltip" window, which
          can be made persistent by hitting <span class="keycap"><strong>F2</strong></span>.
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm347"></a>Content Assist</h4></div></div></div><p>
          If you need help, just press <span class="keycap"><strong>Ctrl+SPACE</strong></span>.
          The editor will offer possible words or templates. This is context sensitive, so it will offer
          only valid suggestions. Content assist is also a good way of exploring the new NED syntax and features.
        </p><div class="figure"><a name="pictures/NED-TextEditorCA.png"></a><p class="title"><b>Figure 2.7.  NED Source Editor with content assist activated</b></p><div class="figure-contents"><div class="screenshot"><div class="mediaobject" align="center"><img src="pictures/NED-TextEditorCA.png" align="middle" alt="NED Source Editor with content assist activated"></div></div></div></div><br class="figure-break"></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm359"></a>Searching in NED Files</h4></div></div></div><p>
          Selecting a text or moving the cursor over a word and pressing
          <span class="keycap"><strong>Ctrl+Shift+G</strong></span>
          searches for the selection in all NED files in the open projects. This function lets you quickly
          find references to the word or type currently under the cursor. The results are shown in the
          standard <span class="emphasis"><em>Search View</em></span>.
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm364"></a>Organizing Imports</h4></div></div></div><p>
          Sometimes, it is very inconvenient to add the necessary import statements to the beginning of the NED
          file by hand. The IDE can do it for you (almost) automatically. Pressing
          <span class="keycap"><strong>Ctrl+Shift+O</strong></span>
          will cause the IDE to try to insert all necessary import statements. You will be prompted to specify the used packages in case of
          ambiguity.
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm368"></a>Cleaning Up NED Files</h4></div></div></div><p> This function does a general repair on all selected NED files by throwing out or adding import
          statements as needed, checking (and fixing) the file's package declaration, and
          reformatting the source code. It can be activated by clicking on the <span class="emphasis"><em>Project | Clean Up NED Files</em></span>
          menu item from the main menu.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm372"></a>Commenting</h4></div></div></div><p>
          To comment out the selected lines, press <span class="keycap"><strong>Ctrl+/</strong></span>.
          To remove the comment, press <span class="keycap"><strong>Ctrl+/</strong></span> again.
        </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm377"></a>Formatting the Source Code</h4></div></div></div><p>
          It is possible to reformat the whole NED file according to the recommended coding guidelines by
          activating the <span class="emphasis"><em>Format Source</em></span> context menu item or by pressing the
          <span class="keycap"><strong>Ctrl+Shift+F</strong></span>
          key combination.
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
          Using the graphical editor and switching to source mode automatically re-formats the NED source
          code, as well.
        </div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm383"></a>Navigation</h4></div></div></div><p>
          Holding the <span class="keycap"><strong>Ctrl</strong></span> key and clicking any identifier type will jump to the definition.
          Alternatively, move the cursor into the identifier and hit <span class="keycap"><strong>F3</strong></span> to achieve
          the same effect.
        </p><p> If you switch to graphical mode from text mode, the editor will try to locate the NED element
          under the cursor and select it in the graphical editor.</p><p>The Eclipse platform's bookmarking and navigation history facilities also work in the NED editor.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s03.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s05.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Creating New NED Files </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Associated Views</td></tr></table></div></body></html>
